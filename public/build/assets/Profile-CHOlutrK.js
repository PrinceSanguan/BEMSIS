import{K as $,r as c,m as D,j as e,L as G}from"./app-DpTxKQAf.js";import{A as X,a as k}from"./alert-B1caCfZ1.js";import{B as J}from"./badge-BHaFTTI2.js";import{B as A}from"./button-EmHOAWCh.js";import{C as u,b as g,c as N,a as w}from"./card-DrGcUUNM.js";import{I as i}from"./input-6b6wo28k.js";import{L as o}from"./label-DQBlYoye.js";import Q from"./Header-TxTQDKCZ.js";import F from"./Sidebar-C4vtd28R.js";import{C as M}from"./circle-check-big-D4t3uExM.js";import{C as q}from"./circle-alert-C45WfZk2.js";import{U as L}from"./user-wZ1yEFEq.js";import{S as V}from"./save-Dus7wNsx.js";import{L as U}from"./lock-BtxQXfrx.js";import{E as f}from"./eye-off--Azpx3ZA.js";import{E as y}from"./eye-VxsTZ_5d.js";import{M as W}from"./mail-BETHgdgr.js";import{P as Y}from"./phone-BPWRGX_K.js";import"./index-BtH7JKO-.js";import"./Combination-DQHq3tOk.js";import"./dropdown-menu-CKSOrcSz.js";import"./createLucideIcon-uFufCLSQ.js";import"./index-CtBsO7PD.js";import"./house-CnyEPiag.js";import"./log-out-BUIlX1OT.js";import"./chart-column-ca2rcyDB.js";import"./calendar--REYLK8D.js";import"./qr-code-Dwz7AgoG.js";import"./award-DZbFRIXm.js";import"./bell-0vn567Sl.js";import"./settings-4mvi0Ii6.js";function ke({user:a}){const{flash:l}=$().props,[b,v]=c.useState(!1),[m,P]=c.useState(!1),[x,C]=c.useState(!1),[p,_]=c.useState(!1),{data:d,setData:h,put:B,processing:S,errors:r}=D({name:a.name,email:a.email,phone:a.phone}),{data:n,setData:j,post:I,processing:E,errors:t,reset:R}=D({current_password:"",password:"",password_confirmation:""}),O=s=>{s.preventDefault(),B(route("resident.profile.update"),{onSuccess:()=>{}})},z=s=>{s.preventDefault(),I(route("resident.profile.password"),{onSuccess:()=>{R(),P(!1),C(!1),_(!1)}})},H=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},T=s=>{switch(s){case"approved":return e.jsx(M,{className:"h-4 w-4"});case"pending":case"declined":return e.jsx(q,{className:"h-4 w-4"});default:return null}},K=s=>/^09\d{9}$/.test(s);return e.jsxs(e.Fragment,{children:[e.jsx(G,{title:"My Profile"}),e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(F,{currentPage:"resident.profile"})}),b&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>v(!1)}),e.jsx("div",{className:"absolute top-0 left-0 h-full",children:e.jsx(F,{currentPage:"resident.profile"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(Q,{userName:a.name,onMobileMenuToggle:()=>v(!b)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account information and security settings."})]}),(l==null?void 0:l.success)&&e.jsxs(X,{className:"border-green-200 bg-green-50",children:[e.jsx(M,{className:"h-4 w-4 text-green-600"}),e.jsx(k,{className:"text-green-800",children:l.success})]}),(l==null?void 0:l.error)&&e.jsxs(X,{className:"border-red-200 bg-red-50",children:[e.jsx(q,{className:"h-4 w-4 text-red-600"}),e.jsx(k,{className:"text-red-800",children:l.error})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Profile Information"]})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"name",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"name",type:"text",value:d.name,onChange:s=>h("name",s.target.value),className:r.name?"border-red-300":"",required:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"email",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"email",type:"email",value:d.email,onChange:s=>h("email",s.target.value),className:r.email?"border-red-300":"",required:!0}),r.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"phone",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(i,{id:"phone",type:"tel",placeholder:"09XXXXXXXXX",value:d.phone,onChange:s=>h("phone",s.target.value),className:r.phone?"border-red-300":"",required:!0}),!K(d.phone)&&d.phone.length>0&&e.jsx("p",{className:"text-sm text-amber-600",children:"Phone number should start with 09 and be 11 digits long"}),r.phone&&e.jsx("p",{className:"text-sm text-red-500",children:r.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Account Status"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(J,{className:H(a.status),children:[T(a.status),e.jsx("span",{className:"ml-1",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})})]}),e.jsxs(A,{type:"submit",disabled:S,className:"w-full gap-2",children:[e.jsx(V,{className:"h-4 w-4"}),S?"Updating...":"Update Profile"]})]})})]}),e.jsxs(u,{children:[e.jsx(g,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Security Settings"]})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:z,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"current_password",children:["Current Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"current_password",type:m?"text":"password",value:n.current_password,onChange:s=>j("current_password",s.target.value),className:t.current_password?"border-red-300 pr-10":"pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>P(!m),className:"absolute top-1/2 right-3 -translate-y-1/2 transform text-gray-400 hover:text-gray-600",children:m?e.jsx(f,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})})]}),t.current_password&&e.jsx("p",{className:"text-sm text-red-500",children:t.current_password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"new_password",children:["New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"new_password",type:x?"text":"password",value:n.password,onChange:s=>j("password",s.target.value),className:t.password?"border-red-300 pr-10":"pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>C(!x),className:"absolute top-1/2 right-3 -translate-y-1/2 transform text-gray-400 hover:text-gray-600",children:x?e.jsx(f,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})})]}),n.password.length>0&&n.password.length<6&&e.jsx("p",{className:"text-sm text-amber-600",children:"Password must be at least 6 characters long"}),t.password&&e.jsx("p",{className:"text-sm text-red-500",children:t.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"confirm_password",children:["Confirm New Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{id:"confirm_password",type:p?"text":"password",value:n.password_confirmation,onChange:s=>j("password_confirmation",s.target.value),className:t.password_confirmation?"border-red-300 pr-10":"pr-10",required:!0}),e.jsx("button",{type:"button",onClick:()=>_(!p),className:"absolute top-1/2 right-3 -translate-y-1/2 transform text-gray-400 hover:text-gray-600",children:p?e.jsx(f,{className:"h-4 w-4"}):e.jsx(y,{className:"h-4 w-4"})})]}),n.password!==n.password_confirmation&&n.password_confirmation.length>0&&e.jsx("p",{className:"text-sm text-red-500",children:"Passwords do not match"}),t.password_confirmation&&e.jsx("p",{className:"text-sm text-red-500",children:t.password_confirmation})]}),e.jsxs(A,{type:"submit",disabled:E,className:"w-full gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),E?"Changing Password...":"Change Password"]})]})})]})]}),e.jsxs(u,{children:[e.jsx(g,{children:e.jsx(N,{children:"Account Information"})}),e.jsx(w,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-3",children:[e.jsx(W,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-3",children:[e.jsx(Y,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:a.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg bg-gray-50 p-3",children:[e.jsx(L,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Role"}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:a.role.replace("_"," ")})]})]})]})})]})]})})]})]})]})}export{ke as default};
