import{r as m,m as E,j as e,L as P}from"./app-D3T1n4bI.js";import{B as o}from"./button-f6i-Hsu5.js";import{C as t,b,c as f,a as l}from"./card-XNqk8LyP.js";import{D as z,b as Y,c as H,d as O}from"./dialog-fboHmZmb.js";import{T as q,a as A,b as y,c as v}from"./tabs-CrFYA874.js";import{T as B}from"./textarea-DTDq6lMl.js";import R from"./Header-CyilP6fj.js";import S from"./Sidebar-DGJ2hna2.js";import{C as w}from"./calendar-DbRQwxhL.js";import{M as x}from"./qr-code-iSFG00TU.js";import{c as k}from"./createLucideIcon-BpmfQe8N.js";import"./Combination-Cjm0Iuft.js";import"./index-4zbVwmYN.js";import"./dropdown-menu-B3k3E-lp.js";import"./x-Pu1PIWjA.js";import"./badge-r4QWlGEb.js";import"./index-CtBsO7PD.js";import"./house-fL4Wfdlk.js";import"./user-DrVmvJgf.js";import"./log-out-Bu8ebVwl.js";import"./chart-column-Dj_6RZIY.js";import"./award-us1Ch1UW.js";import"./bell-B1RPYDky.js";import"./settings-A_dL-YCl.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],I=k("Send",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],G=k("Star",V);function Ne({eventsNeedingFeedback:r,feedbackHistory:c}){const[h,p]=m.useState(!1),[i,n]=m.useState(null),[C,a]=m.useState(!1),{data:D,setData:g,post:F,processing:d,errors:j,reset:u}=E({event_id:0,comments:""}),_=s=>{n(s),g("event_id",s.id),a(!0)},T=s=>{s.preventDefault(),F(route("resident.feedback.submit"),{onSuccess:()=>{a(!1),u(),n(null)}})},L=()=>{a(!1),n(null),u()},M=s=>Array.from({length:5},(J,N)=>e.jsx(G,{className:`h-4 w-4 ${N<s?"fill-current text-yellow-400":"text-gray-300"}`},N));return e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Event Feedback"}),e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(S,{currentPage:"resident.feedback"})}),h&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>p(!1)}),e.jsx("div",{className:"absolute top-0 left-0 h-full",children:e.jsx(S,{currentPage:"resident.feedback"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(R,{onMobileMenuToggle:()=>p(!h)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Feedback"}),e.jsx("p",{className:"text-gray-600",children:"Share your thoughts about events you've attended."})]}),e.jsxs(q,{defaultValue:"pending",className:"space-y-6",children:[e.jsxs(A,{className:"grid w-full grid-cols-2",children:[e.jsxs(y,{value:"pending",children:["Pending Feedback (",r.length,")"]}),e.jsxs(y,{value:"history",children:["Feedback History (",c.length,")"]})]}),e.jsx(v,{value:"pending",className:"space-y-4",children:r.length>0?e.jsx("div",{className:"grid gap-4 md:gap-6",children:r.map(s=>e.jsxs(t,{className:"shadow-sm",children:[e.jsx(b,{className:"pb-3",children:e.jsxs(f,{className:"flex items-center justify-between text-lg",children:[s.event_name,e.jsx("span",{className:"rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-600",children:"Feedback Pending"})]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-4 w-4"}),new Date(s.date).toLocaleDateString()]}),s.has_certificate&&e.jsx("span",{className:"rounded bg-green-100 px-2 py-1 text-xs text-green-600",children:"Certificate Available"})]}),e.jsx("div",{className:"flex gap-2 pt-2",children:e.jsxs(o,{size:"sm",onClick:()=>_(s),className:"gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),"Submit Feedback"]})})]})]},s.id))}):e.jsx(t,{className:"p-8 text-center",children:e.jsxs(l,{children:[e.jsx(x,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No Pending Feedback"}),e.jsx("p",{className:"text-gray-600",children:"You're all caught up! No events are waiting for your feedback."})]})})}),e.jsx(v,{value:"history",className:"space-y-4",children:c.length>0?e.jsx("div",{className:"grid gap-4 md:gap-6",children:c.map(s=>e.jsxs(t,{className:"shadow-sm",children:[e.jsx(b,{className:"pb-3",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx(f,{className:"text-lg",children:s.event_name}),e.jsx("span",{className:"rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-600",children:"Submitted"})]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm text-gray-500 sm:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(w,{className:"h-4 w-4"}),"Event Date: ",new Date(s.date).toLocaleDateString()]}),e.jsxs("div",{children:["Submitted: ",new Date(s.submitted_date).toLocaleDateString()]})]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Rating:"}),e.jsx("div",{className:"flex gap-1",children:M(s.rating)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-sm font-medium text-gray-700",children:"Your Feedback:"}),e.jsx("p",{className:"rounded-md bg-gray-50 p-3 text-sm text-gray-600",children:s.comment})]})]})]},s.id))}):e.jsx(t,{className:"p-8 text-center",children:e.jsxs(l,{children:[e.jsx(x,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mb-2 text-lg font-medium text-gray-900",children:"No Feedback History"}),e.jsx("p",{className:"text-gray-600",children:"Your submitted feedback will appear here."})]})})})]})]})})]}),e.jsx(z,{open:C,onOpenChange:a,children:e.jsxs(Y,{className:"sm:max-w-md",children:[e.jsx(H,{children:e.jsx(O,{children:"Submit Feedback"})}),i&&e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2 font-medium text-gray-900",children:i.event_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Event Date: ",new Date(i.date).toLocaleDateString()]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Your Comments ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(B,{placeholder:"Share your thoughts about this event...",value:D.comments,onChange:s=>g("comments",s.target.value),className:"min-h-[100px]",required:!0}),j.comments&&e.jsx("p",{className:"text-sm text-red-500",children:j.comments})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(o,{type:"submit",disabled:d,className:"flex-1 gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),d?"Submitting...":"Submit Feedback"]}),e.jsx(o,{type:"button",variant:"outline",onClick:L,disabled:d,children:"Cancel"})]})]})]})})]})]})}export{Ne as default};
