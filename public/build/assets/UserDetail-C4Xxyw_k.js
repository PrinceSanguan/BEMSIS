import{K as I,r as f,j as e,L,S as d}from"./app-B1Wi4E-8.js";import{A as v,a as y}from"./alert-Dx-Is7v8.js";import{B as u}from"./badge-pAbO5dy0.js";import{B as l}from"./button-DbPNcHHT.js";import{C as c,b as t,c as r,a as n}from"./card-BPVvoLsA.js";import R from"./Header-ByDoFa1N.js";import b from"./Sidebar-CpFaqVxg.js";import{C as w}from"./circle-check-big-CPqkCcTF.js";import{C as _}from"./circle-x-DScdr2XQ.js";import{A as F}from"./arrow-left-BLoyKF_O.js";import{U as O}from"./user-check-DiqgiEO8.js";import{U as V}from"./user-x-Bf62TTlX.js";import{U as H}from"./user-B_mYxzfm.js";import{P as x}from"./phone-C_rXItL2.js";import{M as C}from"./mail-CjIBAsLa.js";import{M as T}from"./map-pin-DSLQyGIy.js";import{c as X}from"./createLucideIcon-Dto5OKXk.js";import{E as k}from"./eye-LCeb0vz6.js";import{D}from"./download-al_zLcWb.js";import{B as q}from"./building-2-DMI0_NTu.js";import{C as S}from"./calendar-qxz_CE0J.js";import"./dropdown-menu-jebMUTZ7.js";import"./Combination-eUq_mQI_.js";import"./index-D0cdTG85.js";import"./index-CtBsO7PD.js";import"./log-out-CYmKAFhs.js";import"./chart-column-DByp3CUK.js";import"./users-BDvDcvp5.js";import"./qr-code-BVTkJ4Jc.js";import"./file-text-BdSYpZDP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],h=X("IdCard",K);function Ce({user:s,className:G}){const{flash:i}=I().props,[j,g]=f.useState(!1),[m,o]=f.useState(!1),A=()=>{o(!0),d.patch(`/secretary/users/${s.id}/approve`,{},{onFinish:()=>o(!1),onSuccess:()=>d.get("/secretary/users")})},$=()=>{o(!0),d.patch(`/secretary/users/${s.id}/decline`,{},{onFinish:()=>o(!1),onSuccess:()=>d.get("/secretary/users")})},U=a=>({resident:{label:"Resident",color:"bg-blue-100 text-blue-800"},partner_agency:{label:"Partner Agency",color:"bg-green-100 text-green-800"},secretary:{label:"Secretary",color:"bg-purple-100 text-purple-800"},captain:{label:"Captain",color:"bg-red-100 text-red-800"}})[a]||{label:a,color:"bg-gray-100 text-gray-800"},M=a=>({pending:{label:"Pending Review",color:"bg-yellow-100 text-yellow-800",icon:S},approved:{label:"Approved",color:"bg-green-100 text-green-800",icon:w},declined:{label:"Declined",color:"bg-red-100 text-red-800",icon:_}})[a]||{label:a,color:"bg-gray-100 text-gray-800",icon:S},P=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),B=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),N=U(s.role),p=M(s.status),z=p.icon;return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:`User Details - ${s.name}`}),e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(b,{currentPage:"secretary.users"})}),j&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>g(!1)}),e.jsx("div",{className:"absolute top-0 left-0 h-full",children:e.jsx(b,{currentPage:"secretary.users"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsx(R,{onMobileMenuToggle:()=>g(!j)}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"mx-auto max-w-4xl space-y-6",children:[(i==null?void 0:i.success)&&e.jsxs(v,{children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx(y,{children:i.success})]}),(i==null?void 0:i.error)&&e.jsxs(v,{variant:"destructive",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx(y,{children:i.error})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(l,{onClick:()=>d.get("/secretary/users"),variant:"outline",size:"sm",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Back to Users"]})}),e.jsx(c,{children:e.jsx(t,{children:e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s.name}),e.jsx(u,{className:`px-3 py-1 text-sm font-medium ${N.color}`,children:N.label}),e.jsxs(u,{className:`px-3 py-1 text-sm font-medium ${p.color}`,children:[e.jsx(z,{className:"mr-1 h-3 w-3"}),p.label]})]}),e.jsxs("p",{className:"text-gray-600",children:["Registered on ",P(s.created_at)]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(l,{onClick:A,disabled:m,className:"bg-green-600 text-white hover:bg-green-700",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),m?"Processing...":"Approve"]}),e.jsxs(l,{onClick:$,disabled:m,variant:"destructive",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),m?"Processing...":"Decline"]})]})]})})}),s.role==="resident"?e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(c,{children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Personal Information"]})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Full Name:"}),e.jsx("p",{className:"mt-1",children:`${s.first_name||""} ${s.middle_name||""} ${s.last_name||""} ${s.extension||""}`.trim()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Date of Birth:"}),e.jsx("p",{className:"mt-1",children:s.date_of_birth?B(s.date_of_birth):"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Age:"}),e.jsx("p",{className:"mt-1",children:s.age||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Sex:"}),e.jsx("p",{className:"mt-1",children:s.sex||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Civil Status:"}),e.jsx("p",{className:"mt-1",children:s.civil_status||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Place of Birth:"}),e.jsx("p",{className:"mt-1",children:s.place_of_birth||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Citizenship:"}),e.jsx("p",{className:"mt-1",children:s.citizenship||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Occupation:"}),e.jsx("p",{className:"mt-1",children:s.occupation||"Not provided"})]}),s.special_notes&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Special Notes:"}),e.jsx("p",{className:"mt-1",children:s.special_notes})]})]})})]}),e.jsxs(c,{children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),"Contact & Location"]})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),e.jsx("p",{className:"mt-1",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Contact Number:"}),e.jsx("p",{className:"mt-1",children:s.contact_number||s.phone})]})]}),s.purok&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Purok:"}),e.jsx("p",{className:"mt-1",children:s.purok.name})]})]})]})})]}),s.valid_id_path&&e.jsxs(c,{className:"lg:col-span-2",children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Uploaded Documents"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Valid ID"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploaded identification document"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{onClick:()=>window.open(`/storage/${s.valid_id_path}`,"_blank"),variant:"outline",size:"sm",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(l,{onClick:()=>{const a=document.createElement("a");a.href=`/storage/${s.valid_id_path}`,a.download=`valid_id_${s.name}`,a.click()},variant:"outline",size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})})})]})]}):e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(c,{children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"Agency Information"]})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Agency Name:"}),e.jsx("p",{className:"mt-1",children:s.agency_name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Representative:"}),e.jsx("p",{className:"mt-1",children:`${s.representative_first_name||""} ${s.representative_last_name||""}`.trim()||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Agency Address:"}),e.jsx("p",{className:"mt-1",children:s.agency_address||"Not provided"})]})]})})]}),e.jsxs(c,{children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-5 w-5"}),"Contact Information"]})}),e.jsx(n,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Email:"}),e.jsx("p",{className:"mt-1",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-600",children:"Agency Contact:"}),e.jsx("p",{className:"mt-1",children:s.agency_contact_number||s.phone})]})]})]})})]}),s.agency_valid_id_path&&e.jsxs(c,{className:"lg:col-span-2",children:[e.jsx(t,{children:e.jsxs(r,{className:"flex items-center gap-2",children:[e.jsx(h,{className:"h-5 w-5"}),"Uploaded Documents"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(h,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Agency Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Valid ID or Official Agency Endorsement"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{onClick:()=>window.open(`/storage/${s.agency_valid_id_path}`,"_blank"),variant:"outline",size:"sm",children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(l,{onClick:()=>{const a=document.createElement("a");a.href=`/storage/${s.agency_valid_id_path}`,a.download=`agency_documents_${s.agency_name}`,a.click()},variant:"outline",size:"sm",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})})})]})]})]})})]})]})]})}export{Ce as default};
