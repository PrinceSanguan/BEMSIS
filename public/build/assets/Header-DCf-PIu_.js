import{r as d,j as e,K as I,$ as R}from"./app-CI-4VFax.js";import{c as k,e as _,f as A}from"./Combination-CgmyZskN.js";import{P as x}from"./index-C0iWjysw.js";import{c as u,B as f}from"./button-DjP5DCua.js";import{B as E}from"./badge-X1Y-1lsO.js";import{M as P,D,a as $,b as B,e as F,f as g,c as h}from"./dropdown-menu-xtMhRY4o.js";import{T as j}from"./index-CtBsO7PD.js";import{H as T}from"./house-Bn5fKTL9.js";import{U}from"./user-CtEl8JKF.js";import{L as z}from"./log-out-Bc6-Y8uB.js";import"./createLucideIcon-BxQM5x_N.js";var p="Avatar",[H,ne]=k(p),[K,b]=H(p),y=d.forwardRef((s,t)=>{const{__scopeAvatar:l,...a}=s,[r,n]=d.useState("idle");return e.jsx(K,{scope:l,imageLoadingStatus:r,onImageLoadingStatusChange:n,children:e.jsx(x.span,{...a,ref:t})})});y.displayName=p;var C="AvatarImage",S=d.forwardRef((s,t)=>{const{__scopeAvatar:l,src:a,onLoadingStatusChange:r=()=>{},...n}=s,i=b(C,l),o=q(a,n.referrerPolicy),c=_(m=>{r(m),i.onImageLoadingStatusChange(m)});return A(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(x.img,{...n,ref:t,src:a}):null});S.displayName=C;var L="AvatarFallback",M=d.forwardRef((s,t)=>{const{__scopeAvatar:l,delayMs:a,...r}=s,n=b(L,l),[i,o]=d.useState(a===void 0);return d.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>o(!0),a);return()=>window.clearTimeout(c)}},[a]),i&&n.imageLoadingStatus!=="loaded"?e.jsx(x.span,{...r,ref:t}):null});M.displayName=L;function q(s,t){const[l,a]=d.useState("idle");return A(()=>{if(!s){a("error");return}let r=!0;const n=new window.Image,i=o=>()=>{r&&a(o)};return a("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=s,t&&(n.referrerPolicy=t),()=>{r=!1}},[s,t]),l}var G=y,O=S,V=M;function v({className:s,...t}){return e.jsx(G,{"data-slot":"avatar",className:u("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...t})}function N({className:s,...t}){return e.jsx(O,{"data-slot":"avatar-image",className:u("aspect-square size-full",s),...t})}function w({className:s,...t}){return e.jsx(V,{"data-slot":"avatar-fallback",className:u("bg-muted flex size-full items-center justify-center rounded-full",s),...t})}function le({userName:s,onMobileMenuToggle:t}){const{auth:l}=I().props,a=l==null?void 0:l.user,r=s||(a==null?void 0:a.name)||"Resident User",n=c=>c.split(" ").map(m=>m.charAt(0)).join("").toUpperCase().slice(0,2),i=()=>{window.location.href=j("auth.logout")},o=c=>{switch(c){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-white px-4 shadow-sm lg:px-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:t,children:e.jsx(P,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-800 lg:text-2xl",children:"Community Portal"})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(D,{children:[e.jsx($,{asChild:!0,children:e.jsxs(f,{variant:"ghost",className:"flex h-10 items-center gap-2 px-3",children:[e.jsxs(v,{className:"h-8 w-8",children:[e.jsx(N,{src:"",alt:r}),e.jsx(w,{className:"bg-blue-100 text-sm font-medium text-blue-600",children:n(r)})]}),e.jsxs("div",{className:"hidden flex-col text-left sm:flex",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:r}),e.jsx("span",{className:"text-xs text-gray-500",children:"Resident"})]})]})}),e.jsxs(B,{align:"end",className:"w-64 p-2",children:[e.jsx(F,{className:"p-2",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(v,{className:"h-10 w-10",children:[e.jsx(N,{src:"",alt:r}),e.jsx(w,{className:"bg-blue-100 text-blue-600",children:n(r)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:r}),e.jsx("p",{className:"text-xs text-gray-500",children:a==null?void 0:a.email})]})]}),(a==null?void 0:a.status)&&e.jsx(E,{className:`text-xs ${o(a.status)} w-fit`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})}),e.jsx(g,{}),e.jsx(h,{asChild:!0,children:e.jsxs(R,{href:j("resident.profile"),className:"flex cursor-pointer items-center gap-2 px-2 py-2",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"My Profile"})]})}),e.jsx(g,{}),e.jsxs(h,{onClick:i,className:"flex cursor-pointer items-center gap-2 px-2 py-2 text-red-600 focus:text-red-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]})})]})}export{le as default};
